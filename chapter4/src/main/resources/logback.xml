<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
	<appender name="KAFKA" class="chapter4.logback.KafkaAppender">
		<topic>log-analysis</topic>		
		<bootstrapServers>192.168.88.130:9092</bootstrapServers>
		<formatter class="chapter4.logback.JsonFormatter">
			<!-- Whether we expect the log message to be JSON encoded or not. If set 
				to "false", the log message will be treated as a string, and wrapped in quotes. 
				Otherwise it will be treated as a parseable JSON object. -->
			<expectJson>false</expectJson>
		</formatter>
	</appender>
	<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
		<encoder>
			<charset>UTF-8</charset>
			<Pattern>%d %-4relative [%thread] %-5level %logger{35} - %msg%n</Pattern>
		</encoder>
	</appender>

	<root level="debug">
		<appender-ref ref="STDOUT" />		
	</root>

	<logger name="chapter4" additivity="false">
		<level value="DEBUG" />
		<appender-ref ref="KAFKA" />
	</logger>
</configuration>